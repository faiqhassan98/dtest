module.exports=[19032,a=>{"use strict";a.s(["fetchNextTest",()=>e,"getMyResults",()=>h,"getOverview",()=>i,"login",()=>d,"startTest",()=>f,"submitAttempt",()=>g]);let b=process.env.NEXT_PUBLIC_API_BASE??"/api";async function c(a,d={}){let e=await fetch(`${b}${a}`,{...d,headers:{"Content-Type":"application/json"}});if(!e.ok)throw Error((await e.json().catch(()=>({message:e.statusText}))).message||e.statusText);return e.json()}let d=(a,b)=>c("/auth/login",{method:"POST",body:JSON.stringify({email:a,password:b})}),e=a=>c(`/tests/next${a?`?level=${a}`:""}`),f=a=>c(`/tests/${a}/start`),g=(a,b)=>c(`/attempts/${a}/submit`,{method:"POST",body:JSON.stringify({responses:b})}),h=()=>c("/attempts/me"),i=()=>c("/stats/overview")},50944,(a,b,c)=>{b.exports=a.r(74137)},73951,a=>{"use strict";a.s(["default",()=>h]);var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(99570),f=a.i(19032);function g(){let a=(0,d.useSearchParams)(),g=(0,d.useRouter)(),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)(null),[l,m]=(0,c.useState)(null),[n,o]=(0,c.useState)({});async function p(a){m(await (0,f.startTest)(a))}async function q(){if(!l)return;let a=Object.keys(n).map(a=>({questionId:a,answer:n[a]})),b=await (0,f.submitAttempt)(l._id,a);alert(`Score: ${b.score}%`),g.push("/user/dashboard")}return((0,c.useEffect)(()=>{i(a.get("id")),k(a.get("attemptId"))},[a]),(0,c.useEffect)(()=>{h&&p(h)},[h,j]),l)?(0,b.jsxs)("div",{children:[(0,b.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Reading Test (",l.level,")"]}),l.passages.map(a=>(0,b.jsxs)("div",{className:"mb-6",children:[(0,b.jsx)("div",{className:"mb-2 p-4 border rounded bg-white",children:a.text}),(0,b.jsx)("div",{className:"space-y-3 mt-2",children:a.questions.map(a=>(0,b.jsxs)("div",{className:"p-3 border rounded",children:[(0,b.jsx)("div",{className:"font-medium",children:a.text}),"mcq"===a.type&&(a.options||[]).map(c=>(0,b.jsxs)("label",{className:"block",children:[(0,b.jsx)("input",{type:"radio",name:a._id,onChange:()=>o(b=>({...b,[a._id]:c}))})," ",c]},c)),"tf"===a.type&&(0,b.jsxs)("div",{children:[(0,b.jsxs)("label",{children:[(0,b.jsx)("input",{type:"radio",name:a._id,onChange:()=>o(b=>({...b,[a._id]:!0}))})," ","True"]}),(0,b.jsxs)("label",{className:"ml-4",children:[(0,b.jsx)("input",{type:"radio",name:a._id,onChange:()=>o(b=>({...b,[a._id]:!1}))})," ","False"]})]})]},a._id))})]},a._id)),(0,b.jsx)(e.Button,{onClick:q,children:"Submit"})]}):(0,b.jsx)("div",{children:"Loading test..."})}function h(){return(0,b.jsx)(c.Suspense,{fallback:(0,b.jsx)("div",{children:"Loading test page..."}),children:(0,b.jsx)(g,{})})}}];

//# sourceMappingURL=_1f8ae58b._.js.map